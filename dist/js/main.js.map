{"version":3,"file":"main.js","sources":["../../src/js/lib/nav.js","../../src/js/main.js"],"sourcesContent":["// 上下Nav移动\nfunction storyState() {\n\n    this._touchHandler = this._touchHandler.bind(this);\n    this._mouseWheel = this._mouseWheel.bind(this);\n    this._triggerMobileNav = this._triggerMobileNav.bind(this);\n    this._untriggerMobileNav = this._untriggerMobileNav.bind(this);\n\n    this.storyOutterDOM = document.querySelector(\".ui-content-story-outter\");\n    this.uiNavItems = document.querySelectorAll(\".ui-nav-container li\");\n\n    // story全部不可见\n    this.stories = this.storyOutterDOM.children;\n    this.storiesLen = this.stories.length;\n\n    for (let i = 0; i < this.storiesLen; i++) {\n        this.stories[i].style.visibility = \"hidden\";\n        this.stories[i].style.display = \"none\";\n        this.stories[i].style.opacity = \"0\";\n        this.stories[i].style.position = \"relative\";\n        this.stories[i].style.left = \"-30px\";\n        // 自己在CSS中添加transition属性\n    }\n\n    this.curr = 0;\n    this._setCurrIndex(0);\n\n    // 初始化左部导航\n    if (this.uiNavItems) {\n        let len = this.uiNavItems.length;\n        let selector = this.uiNavItems[0];\n\n        // 初始化\n        selector.style.top = this.uiNavItems[this.curr + 1].offsetTop - 6 + \"px\";\n\n        for (let i = 1; i < len; i++) {\n            // 添加事件侦听\n            this.uiNavItems[i].addEventListener('mouseover', () => {\n                selector.style.top = this.uiNavItems[i].offsetTop - 6 + \"px\";\n            })\n\n            this.uiNavItems[i].addEventListener('mouseout', () => {\n                if (this.setCurrIndexBlock) {\n                    return;\n                }\n                selector.style.top = this.uiNavItems[this.curr + 1].offsetTop - 6 + \"px\";\n            })\n\n            this.uiNavItems[i].addEventListener('click', () => {\n                this._setCurrIndex(i - 1);\n                this._untriggerMobileNav();\n            })\n\n        }\n    }\n\n\n    // 滚轮事件\n\n    this.storyOutterDOM.addEventListener('mousewheel', this._mouseWheel)\n    document.addEventListener('mousewheel', this._mouseWheel)\n\n    // 移动端Nav\n    this.trigger = false;\n\n    document.querySelector(\".ui-mobile-nav-trigger\")\n        .addEventListener(\"click\", this._triggerMobileNav);\n    document.querySelector(\".ui-nav-container\")\n        .addEventListener(\"click\", event => {\n            event.stopPropagation()\n        })\n    document.body.addEventListener(\"click\", this._untriggerMobileNav);\n\n    // 移动端touch事件\n\n    let contentArticle = document.querySelector(\".ui-content-article\");\n    contentArticle.addEventListener('touchstart', this._touchHandler)\n    contentArticle.addEventListener('touchend', this._touchHandler)\n    contentArticle.addEventListener('touchmove', this._touchHandler)\n}\n\n// 移动端touch事件处理\nstoryState.prototype._touchHandler = function (event) {\n    let touchY, touchX, deltaX, deltaY;\n\n    let navContainer = document.querySelector(\".ui-nav-container\");\n    switch (event.type) {\n        case \"touchend\":\n            // 左右划出\n            deltaX = this.endTouchX - this.startTouchX;\n            if (deltaX > 100 && !this.trigger) {\n                navContainer.classList.add(\"ui-mobile-show\");\n                this.trigger = true;\n                break;\n            } else if (deltaX < -100 && this.trigger) {\n                navContainer.classList.remove(\"ui-mobile-show\");\n                this.trigger = false;\n                break;\n            }\n            // 上下翻页判断\n            deltaY = this.endTouchY - this.startTouchY;\n            if (deltaY > 50) {\n                if (this.storyOutterDOM.scrollTop === 0) {\n                    this._upStory();\n                }\n            } else if (deltaY < -50) {\n                let scrollTop = this.storyOutterDOM.scrollTop;\n                let offsetHeight = this.storyOutterDOM.offsetHeight;\n                let scrollHeight = this.storyOutterDOM.scrollHeight;\n\n                if (scrollTop + offsetHeight >= scrollHeight) {\n                    this._downStory();\n                }\n            }\n\n            break;\n\n        case \"touchstart\":\n            touchX = event.touches[0].clientX;\n            touchY = event.touches[0].clientY;\n            this.startTouchX = touchX;\n            this.startTouchY = touchY;\n            break;\n\n        case \"touchmove\":\n            touchX = event.touches[0].clientX;\n            touchY = event.touches[0].clientY;\n            this.endTouchX = touchX;\n            this.endTouchY = touchY;\n            break;\n    }\n}\n\n\n// 移动端显示Nav\nstoryState.prototype._triggerMobileNav = function (event) {\n    event.stopPropagation();\n    let navContainer = document.querySelector(\".ui-nav-container\");\n    if (this.trigger) {\n        navContainer.classList.remove(\"ui-mobile-show\");\n        this.trigger = false;\n    } else {\n        navContainer.classList.add(\"ui-mobile-show\");\n        this.trigger = true;\n    }\n\n}\n\nstoryState.prototype._untriggerMobileNav = function (event) {\n    let navContainer = document.querySelector(\".ui-nav-container\");\n    if (this.trigger) {\n        navContainer.classList.remove(\"ui-mobile-show\");\n        this.trigger = false;\n    }\n}\n\n// 鼠标滚动事件\nstoryState.prototype._mouseWheel = function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n    let flag = 5;\n    let ratio = 5;\n    let animation = setInterval(() => {\n        this.storyOutterDOM.scrollTop += event.deltaY > 0 ? ratio * flag : -ratio * flag;\n        if (flag-- <= 0) {\n            clearInterval(animation)\n        }\n    }, 25);\n    // 让内部也随之滚动\n    if (event.deltaY < 0) {\n        //判断是否滚到头部\n        if (this.storyOutterDOM.scrollTop === 0) {\n            this._upStory();\n        }\n    } else if (event.deltaY > 0) {\n        // 判断是否滚到底部\n        let scrollTop = this.storyOutterDOM.scrollTop;\n        let offsetHeight = this.storyOutterDOM.offsetHeight;\n        let scrollHeight = this.storyOutterDOM.scrollHeight;\n\n        if (scrollTop + offsetHeight >= scrollHeight) {\n            this._downStory();\n        }\n\n    }\n}\n\n// 设置当前幻灯片\nstoryState.prototype._setCurrIndex = function (index, cb) {\n    // 保护锁\n    if (this.setCurrIndexBlock) {\n        return;\n    }\n    this._setUINavPos(index);\n    if (typeof (index) === \"number\") {\n        if (this.curr === index) {\n            this.stories[index].style.display = \"block\";\n            this.setCurrIndexBlock = true;\n            setTimeout(() => {\n                this.stories[index].style.visibility = \"visible\";\n                this.stories[index].style.opacity = \"1\";\n                this.stories[index].style.left = \"0px\";\n                this.setCurrIndexBlock = false;\n            }, 250);\n        } else {\n            // 隐藏\n            this.stories[this.curr].style.visibility = \"hidden\";\n            this.stories[this.curr].style.opacity = \"0\";\n            this.stories[this.curr].style.left = \"-30px\";\n\n            this.setCurrIndexBlock = true;\n            setTimeout(() => {\n                // 隐藏\n                this.stories[this.curr].style.display = \"none\";\n                this.stories[index].style.display = \"block\";\n                setTimeout(() => {\n                    this.stories[index].style.visibility = \"visible\";\n                    this.stories[index].style.opacity = \"1\";\n                    this.stories[index].style.left = \"0px\";\n                    this.setCurrIndexBlock = false;\n                    this.curr = index;\n                    if (typeof (cb) === \"function\") {\n                        cb();\n                    }\n                }, 250);\n            }, 250);\n        }\n    }\n}\n\nstoryState.prototype._getCurrIndex = function (index) {\n    return this.curr;\n}\n\nstoryState.prototype._setUINavPos = function (index) {\n    let selector = this.uiNavItems[0];\n    selector.style.top = this.uiNavItems[index + 1].offsetTop - 6 + \"px\";\n\n}\n\nstoryState.prototype._goStory = function (index) {\n    if (index >= 0 && index < this.storiesLen) {\n        this._setCurrIndex(index);\n    }\n}\n\nstoryState.prototype._upStory = function () {\n    if (this._getCurrIndex() > 0) {\n        this._setCurrIndex(this._getCurrIndex() - 1, () => {\n            let offsetHeight = this.storyOutterDOM.offsetHeight;\n            let scrollHeight = this.storyOutterDOM.scrollHeight;\n            this.storyOutterDOM.scrollTop = scrollHeight - offsetHeight;\n        })\n    }\n}\n\nstoryState.prototype._downStory = function () {\n    if (this._getCurrIndex() < this.storiesLen - 1) {\n        this._setCurrIndex(this._getCurrIndex() + 1, () => {\n            this.storyOutterDOM.scrollTop = 0;\n        })\n    }\n}\n\nlet _storyState = new storyState();\n\n","'use strict';\n\nimport foo from './lib/sr';\nimport nav from './lib/nav';\n\n// loading中...\nlet loading = document.querySelector(\".ui-loading\")\nwindow.onload = function () {\n    loading.style.opacity = 0;\n    setTimeout(() => {\n        loading.parentElement.removeChild(loading);\n    }, 750)\n}\n\n"],"names":["storyState","_touchHandler","bind","_mouseWheel","_triggerMobileNav","_untriggerMobileNav","storyOutterDOM","document","querySelector","uiNavItems","querySelectorAll","stories","children","storiesLen","length","i","style","visibility","display","opacity","position","left","curr","_setCurrIndex","len","selector","top","offsetTop","addEventListener","setCurrIndexBlock","trigger","stopPropagation","body","contentArticle","prototype","event","touchY","touchX","deltaX","deltaY","navContainer","type","endTouchX","startTouchX","classList","add","remove","endTouchY","startTouchY","scrollTop","_upStory","offsetHeight","scrollHeight","_downStory","touches","clientX","clientY","preventDefault","flag","ratio","animation","setInterval","index","cb","_setUINavPos","_getCurrIndex","_goStory","_storyState","loading","window","onload","parentElement","removeChild"],"mappings":"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"}